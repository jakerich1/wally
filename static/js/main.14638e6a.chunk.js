(this.webpackJsonpwally=this.webpackJsonpwally||[]).push([[0],{58:function(e,t,n){},59:function(e,t,n){},67:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var c=n(9),a=n.n(c),r=n(40),i=n.n(r),l=n(0),s=n.n(l),o=n(1),u=n(11),d=n(48),j=n(33),b=n(31),f=n(10),h=(Object(d.a)({apiKey:"AIzaSyCiZfszuXvSijenULIJoU7hslSahTMD9yk",authDomain:"wally-d5dac.firebaseapp.com",projectId:"wally-d5dac",storageBucket:"wally-d5dac.appspot.com",messagingSenderId:"634146964800",appId:"1:634146964800:web:c12e37f2c232fe6722e6a5",measurementId:"G-KYWNS0EJJF"}),Object(b.d)()),O=Object(c.createContext)();function m(e){var t=e.children,n=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=new j.a,i=Object(j.b)(),l=function(e,t){Object(j.c)(i,r).then((function(e){var t=e.user;return a(t),t})).catch((function(e){return e}))},d=function(){return Object(j.d)(i).then((function(){a(!1)})).catch((function(e){return e}))},f=function(){var e=Object(o.a)(s.a.mark((function e(t,n,c,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=c){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(b.a)(Object(b.b)(h,"leaderboard"),{game:t,time:n,UID:c,DID:a});case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error adding document: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n,c,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.c)(Object(b.b)(h,"leaderboard"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=i.onAuthStateChanged((function(e){a(e||!1)}));return function(){return e()}}),[]),{user:n,signin:l,signout:d,addScore:f,readScore:O}}();return Object(f.jsx)(O.Provider,{value:n,children:t})}var p=function(){return Object(c.useContext)(O)};var g=function(){var e=p();return Object(f.jsx)("div",{className:"user-area",children:e.user?Object(f.jsxs)("div",{className:"logged-in",children:[Object(f.jsx)("img",{src:e.user.photoURL,alt:"profile"}),Object(f.jsx)("div",{className:"email",children:e.user.email}),Object(f.jsx)("button",{onClick:function(){return e.signout()},children:"Signout"})]}):Object(f.jsx)("button",{onClick:function(){return e.signin()},children:"Signin"})})},x=n(26),v=n(14);n(58),n(59);var y=function(e){var t=e.wallies.map((function(e){return Object(f.jsxs)("div",{className:"menu-item",children:[Object(f.jsx)("h2",{children:e.title}),Object(f.jsx)("img",{src:e.url,alt:e.title}),Object(f.jsx)(x.b,{to:"game/".concat(e.id),children:"Start Game"})]},e.id)}));return Object(f.jsx)("main",{children:t})},w=(n(67),n(43)),I=n.n(w);var S=function(e){var t=p(),n=Object(v.f)().id,r=e.wallies.map((function(e){return e.id})).indexOf(n),i=e.wallies[r],l=Object(c.useState)(0),s=Object(u.a)(l,2),o=s[0],d=s[1],j=Object(c.useState)(0),b=Object(u.a)(j,2),h=b[0],O=b[1],m=a.a.useState(!1),g=Object(u.a)(m,2),x=g[0],y=g[1];function w(){y(!1),d(0)}I.a.setAppElement("#root"),Object(c.useEffect)((function(){var e=setTimeout((function(){d(o+1)}),1e3);return function(){clearTimeout(e)}}),[o]),Object(c.useEffect)((function(){h&&S()}),[h]);var S=function(){y(!0),t.addScore(n,h,t.user.uid,t.user.displayName)};return Object(f.jsxs)("div",{className:"game-page",children:[Object(f.jsx)("h1",{children:i.title}),Object(f.jsx)("img",{onClick:function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,c=e.clientY-t.top,a=n/t.width*100,r=c/t.height*100,l=i.WallyPos.left-a,s=i.WallyPos.top-r;s=s<0?-1*s:s;(l=l<0?-1*l:l)<1&&s<3&&O(o)},src:".".concat(i.url),alt:i.title}),Object(f.jsx)(I.a,{isOpen:x,onAfterOpen:function(){console.log("test")},onRequestClose:w,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},contentLabel:"Example Modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("button",{onClick:w,children:"close"}),Object(f.jsx)("div",{className:"block",children:"Victory! you completed the game in ".concat(h," seconds")})]})})]})};n(77);var D=function(e){var t=p(),n=Object(c.useState)([]),a=Object(u.a)(n,2),r=a[0],i=a[1],l=r.map((function(e){return Object(f.jsxs)("div",{className:"menu-row",children:[Object(f.jsx)("div",{children:e.DID}),Object(f.jsxs)("div",{children:[e.time," seconds"]})]},e.UID)}));return Object(c.useEffect)((function(){t.readScore().then((function(e){!function(e){var t=[];e.forEach((function(e){var n=e.doc.data.value.mapValue.fields,c={UID:n.UID.stringValue,game:n.game.stringValue,time:n.time.integerValue,DID:n.DID.stringValue};t.push(c)})),t.sort((function(e,t){return parseInt(e.time)>parseInt(t.time)?1:-1})),console.log(t);var n=[];t.reduce((function(e,t){return-1===e.indexOf(t.UID)&&(e.push(t.UID),n.push(t)),e}),[]),i(n)}(e._snapshot.docChanges)})).catch((function(e){console.log(e)}))}),[]),Object(f.jsxs)("div",{className:"leaderboard",children:[Object(f.jsx)("h1",{children:"Leaderboard"}),Object(f.jsx)("div",{className:"menu",children:l})]})};var k=function(){var e=[{url:"./images/wally-1.jpg",title:"Wally 1",level:1,id:"0001",WallyPos:{left:28.26,top:34.69}},{url:"./images/wally-2.jpg",title:"Wally 2",level:2,id:"0002",WallyPos:{left:49.02,top:42.82}},{url:"./images/wally-3.jpg",title:"Wally 3",level:3,id:"0003",WallyPos:{left:61.87,top:38.97}},{url:"./images/wally-4.jpg",title:"Wally 4",level:1,id:"0004",WallyPos:{left:40.51,top:63.34}},{url:"./images/wally-5.jpg",title:"Wally 5",level:5,id:"0005",WallyPos:{left:59.23,top:67.69}}];return Object(f.jsx)(m,{children:Object(f.jsxs)(x.a,{children:[Object(f.jsxs)("nav",{children:[Object(f.jsxs)("div",{className:"nav-links",children:[Object(f.jsx)(x.b,{to:"/",children:Object(f.jsx)("h1",{children:"Menu"})}),Object(f.jsx)(x.b,{to:"/leaderboard",children:Object(f.jsx)("h1",{children:"Leaderboard"})})]}),Object(f.jsx)(g,{})]}),Object(f.jsxs)(v.c,{children:[Object(f.jsx)(v.a,{exact:!0,path:"/",children:Object(f.jsx)(y,{wallies:e})}),Object(f.jsx)(v.a,{path:"/game/:id",children:Object(f.jsx)(S,{wallies:e})}),Object(f.jsx)(v.a,{path:"/leaderboard",children:Object(f.jsx)(D,{})})]})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(k,{})}),document.getElementById("root")),C()}},[[78,1,2]]]);
//# sourceMappingURL=main.14638e6a.chunk.js.map